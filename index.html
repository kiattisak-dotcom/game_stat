<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Public Health Hypothesis Game</title>
    <style>
        body { font-family: 'Tahoma', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding: 20px; }
        .card { background: white; width: 100%; max-width: 500px; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #1a73e8; text-align: center; margin-top: 0; }
        .status-bar { display: flex; justify-content: space-between; background: #e8f0fe; padding: 10px; border-radius: 8px; margin-bottom: 15px; font-weight: bold; }
        .instruction { font-size: 0.9em; color: #555; margin-bottom: 15px; background: #fff3cd; padding: 10px; border-left: 4px solid #ffc107; }
        .step-btn { display: block; width: 100%; padding: 12px; margin: 8px 0; background: #fff; border: 2px solid #dee2e6; border-radius: 6px; cursor: pointer; text-align: left; transition: 0.2s; font-size: 0.95em; }
        .step-btn:hover { border-color: #1a73e8; background: #f8f9fa; }
        .step-btn.correct { background: #d4edda; border-color: #28a745; color: #155724; }
        .step-btn.wrong { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        #message { text-align: center; font-weight: bold; margin-top: 15px; min-height: 24px; }
        .decision-box { display: none; margin-top: 20px; padding-top: 20px; border-top: 2px dashed #ccc; }
        .btn-action { background: #1a73e8; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; width: 100%; margin-top: 10px; font-size: 1em; }
        .btn-restart { background: #6c757d; margin-top: 20px; }
    </style>
</head>
<body>

<div class="card">
    <h2>üî¨ ‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡∏ö‡∏£‡∏∞‡∏ö‡∏≤‡∏î‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</h2>
    
    <div class="instruction">
        <strong>‡πÇ‡∏à‡∏ó‡∏¢‡πå:</strong> ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ "‡∏¢‡∏≤‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà" ‡∏•‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ "‡∏¢‡∏≤‡πÄ‡∏î‡∏¥‡∏°" ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? ‡∏à‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
    </div>

    <div class="status-bar">
        <span>‡πÄ‡∏ß‡∏•‡∏≤: <span id="timer">0</span> ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</span>
        <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></span>
    </div>

    <div id="game-zone">
        <div id="options-list"></div>
    </div>

    <div id="decision-zone" class="decision-box">
        <p><strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢:</strong> ‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ P-value = 0.04 ‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î Œ± = 0.05 ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?</p>
        <button class="step-btn" onclick="finalDecision(true)">‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H‚ÇÄ (‡∏¢‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)</button>
        <button class="step-btn" onclick="finalDecision(false)">‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö H‚ÇÄ (‡∏¢‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡πÄ‡∏î‡∏¥‡∏°)</button>
    </div>

    <div id="message"></div>
    <button id="restart-btn" class="btn-action btn-restart" style="display:none;" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>
</div>

<script>
    const correctSequence = [
        "1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô H‚ÇÄ ‡πÅ‡∏•‡∏∞ H‚ÇÅ",
        "2. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏±‡∏¢‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Œ±)",
        "3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡πÄ‡∏ä‡πà‡∏ô t-test)",
        "4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏Ñ‡πà‡∏≤ P-value",
        "5. ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (Compare P vs Œ±)",
        "6. ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç"
    ];

    let currentStep = 0;
    let score = 0;
    let seconds = 0;
    let timerHandle = null;

    function startGame() {
        currentStep = 0;
        score = 0;
        seconds = 0;
        document.getElementById('score').innerText = score;
        document.getElementById('message').innerText = "";
        document.getElementById('decision-zone').style.display = "none";
        document.getElementById('restart-btn').style.display = "none";
        document.getElementById('options-list').style.display = "block";
        
        clearInterval(timerHandle);
        timerHandle = setInterval(() => {
            seconds++;
            document.getElementById('timer').innerText = seconds;
        }, 1000);

        renderOptions();
    }

    function renderOptions() {
        const listDiv = document.getElementById('options-list');
        listDiv.innerHTML = "";
        
        // Shuffle labels for the buttons
        let shuffled = [...correctSequence].sort(() => Math.random() - 0.5);
        
        shuffled.forEach(text => {
            const btn = document.createElement('button');
            btn.className = 'step-btn';
            btn.innerText = text;
            btn.onclick = () => checkStep(text, btn);
            listDiv.appendChild(btn);
        });
    }

    function checkStep(selectedText, btn) {
        if (selectedText === correctSequence[currentStep]) {
            btn.classList.add('correct');
            btn.disabled = true;
            currentStep++;
            score += 100;
            document.getElementById('message').innerText = "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Ñ‡∏£‡∏±‡∏ö";
            document.getElementById('message').style.color = "green";
            
            if (currentStep === correctSequence.length) {
                clearInterval(timerHandle);
                document.getElementById('options-list').style.display = "none";
                document.getElementById('decision-zone').style.display = "block";
                document.getElementById('message').innerText = "‡∏î‡πà‡∏≤‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢!";
            }
        } else {
            btn.classList.add('wrong');
            score = Math.max(0, score - 50);
            document.getElementById('message').innerText = "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö";
            document.getElementById('message').style.color = "red";
            setTimeout(() => btn.classList.remove('wrong'), 500);
        }
        document.getElementById('score').innerText = score;
    }

    function finalDecision(isReject) {
        if (isReject) {
            score += 200;
            document.getElementById('message').innerText = "‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ P < 0.05 ‡πÄ‡∏£‡∏≤‡∏à‡∏∂‡∏á Reject H‚ÇÄ";
            document.getElementById('message').style.color = "green";
        } else {
            score -= 100;
            document.getElementById('message').innerText = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å P < 0.05 ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò H‚ÇÄ ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö";
            document.getElementById('message').style.color = "red";
        }
        document.getElementById('score').innerText = score;
        document.getElementById('restart-btn').style.display = "block";
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
    window.onload = startGame;
</script>

</body>
</html>
